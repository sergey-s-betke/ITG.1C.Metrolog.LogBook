\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{gost2.105.text}[2014/10/29 v0.1 ГОСТ 2.105-95 ЕСКД. Общие требования к текстовым документам. Текст]

\DeclareOption*{%
	\PassOptionsToPackage{\CurrentOption}{eskdsect}%
}

\ExecuteOptions{pointsubsubsection}

\ProcessOptions\relax

\RequirePackage{ifxetex}
\RequireXeTeX

\RequirePackage{xecyr}

\RequirePackage[cyremdash]{extdash}

\RequirePackage[T2A,T1]{fontenc}
\RequirePackage{eskdsect}

\RequirePackage{amsmath,amsthm,amssymb}
\RequirePackage{mathtext}
\RequirePackage{unicode-math}

\RequirePackage[russian]{translator}
\RequirePackage{gensymb}
\RequirePackage[sepfour]{numprint}
\RequirePackage{siunitx}
\sisetup{range-phrase=\space до~} 

\RequirePackage{url} 
\RequirePackage[unicode=true]{hyperref} 

\hypersetup{ %
	breaklinks=true 
	,bookmarks=true 
	,pdfauthor={Sergey S. Betke}
	,pdftitle={title}
	,colorlinks=false 
	% ,citecolor=blue
	% ,urlcolor=blue
	% ,linkcolor=magenta
	,pdfborder={0 0 0}
}
\urlstyle{same}  % don't use monospace font for urls


\renewcommand\tableofcontents{%
	\begingroup
		\ESKDsectAlign{section}{Center}
		\section*{\contentsname\@mkboth{\MakeUppercase\contentsname}{\MakeUppercase\contentsname}}%
	\endgroup
	\@starttoc{toc}
	\newpage
}

\renewcommand\thesubsection{%
	\ifnum\value{subsection}=\z@%
		\thesection%
	\else%
		\thesection.\arabic{subsection}%
	\fi%}
}

\renewcommand\thesubsubsection{%
	\ifnum\value{subsubsection}=\z@%
		\thesubsection%
	\else%
		\thesubsection.\arabic{subsubsection}%
	\fi%}
}
\@addtoreset{subsubsection}{section}

\@addtoreset{point}{section}
\@addtoreset{point}{subsection}
\@addtoreset{point}{subsubsection}
\let\paragraph\point
\let\theparagraph\thepoint

\let\subparagraph\subpoint
\let\thesubparagraph\thesubpoint

%\newlength{\ESKDparagraphSkipBefore}
%\setlength{\ESKDparagraphSkipBefore}{0mm \@plus 3mm}
%\newlength{\ESKDparagraphSkipAfter}
%\setlength{\ESKDparagraphSkipAfter}{\parskip}
%\newcommand{\ESKDparagraphStyle}{\normalfont\normalsize}

%\renewcommand\paragraph{%
%	\@startsection{paragraph}{4}%
%		{\parindent}%
%		{\ESKDparagraphSkipBefore}%
%		{\ESKDparagraphSkipAfter}%
%		{\ESKDparagraphStyle}%
%}

%\c@secnumdepth=5
