\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{gost2.612}[2014/10/27 v0.1 GOST 2.612-2011]

\RequirePackage{xecyr}

\newcommand*{\@setObjectId}[1]{\@namedef{@objectId}{#1}}

\newcommand*{\@objectMemberId}[1]{\@nameuse{@objectId}@#1}

\newcommand*{\@setObjectProperty}[2]{%
	\@ifundefined{\@objectMemberId{#1}}{%
		\global\@namedef{\@objectMemberId{#1}}{#2}%
	}{%
		\errhelp{Команда должна быть пропущена, нажмите <return> для продолжения}%
		\errmessage{Переопределение значения элемента данных не допускается}%
	}%
}

\newcommand*{\@defObjectProperty}[1]{%
	\@namedef{#1}##1{%
		\@setObjectProperty{#1}{##1}%
	}%
}

\let\@defObjectMandatoryProperty\@defObjectProperty
\let\@defObjectOptionalProperty\@defObjectProperty

\newcounter{ГОСТ2.612@Изделие}
\newcounter{ГОСТ2.612@Изделие@Количество}

\newcommand{\Изделие}[1]{
	\stepcounter{ГОСТ2.612@Изделие}
	\setcounter{ГОСТ2.612@Изделие@Количество}{\value{ГОСТ2.612@Изделие}}
	{
		\@setObjectId{ГОСТ2.612@Изделие@\number\value{ГОСТ2.612@Изделие}}
		\@defObjectMandatoryProperty{Наименование}
		\@defObjectMandatoryProperty{Обозначение}
		\@defObjectOptionalProperty{УсловноеОбозначение}
		#1
	}
}

%\usepackage{forloop}
