\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{gost2.105.toc}[2014/12/11 v0.1 ГОСТ 2.105-95 ЕСКД. Общие требования к текстовым документам. Содержание]

\ProcessOptions\relax

\RequirePackage{titletoc}


\setcounter{tocdepth}{3}

\renewcommand\contentsname{Содержание}

\renewcommand\tableofcontents{%
	\begingroup
		\pagebreak
		\addvspace\part@skip@before
		\part@begin
		\contentsname
		\par
		\nopagebreak
		\addvspace\part@skip@after
	\endgroup
	\@starttoc{toc}%
	\newpage
}

\newlength{\toc@indent}
\setlength{\toc@indent}{10mm}

\titlecontents{section}
	[\toc@indent]
	{\nopagebreak[0]\addvspace{0mm plus 2mm}}
	{\contentslabel{\toc@indent}}
	{\hspace*{-\toc@indent}}
	{\titlerule*{.}\contentspage}

\titlecontents{subsection}
	[2\toc@indent]
	{\nopagebreak[1]\addvspace{0mm plus 1mm}}
	{\contentslabel{\toc@indent}}
	{\hspace*{-\toc@indent}}
	{\titlerule*{.}\contentspage}

\titlecontents{subsubsection}
	[3.5\toc@indent]
	{\nopagebreak[2]\addvspace{0mm}}
	{\contentslabel{1.5\toc@indent}}
	{\hspace*{-1.5\toc@indent}}
	{\titlerule*{.}\contentspage}
